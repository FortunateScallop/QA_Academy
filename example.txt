Added some more stuff from the dev branch

make more change to some files

